/* ==========================
   Sidebar principal
========================== */
.sidebar {
  width: 220px; /* largura fixa */
  height: 100vh; /* ocupa toda a altura da tela */
  background-color: #269447; /* cor de fundo */
  color: white; /* cor do texto */
  display: flex; /* layout flexível */
  flex-direction: column; /* organiza os itens verticalmente */
  padding: 1rem; /* espaçamento interno */
  transition: transform 0.3s ease; /* animação para abrir/fechar */
  overflow-y: auto; /* permite rolagem quando necessário */
  overflow-x: hidden; /* evita rolagem horizontal */
}

/* Estado da sidebar fechada */
.sidebar.fechada {
  position: fixed; /* fixa na tela */
  left: 0;
  top: 0;
  transform: translateX(-100%); /* move para fora da tela */
  transition: transform 0.3s ease; /* animação suave */
}

/* ==========================
   Navbar horizontal superior
========================== */
.top-navbar {
  position: fixed; /* fixa na tela */
  top: 0;
  left: 0;
  width: 100%;
  height: 50px;
  background-color: #269447;
  transition: left 0.3s ease; /* permite animação horizontal */
  display: flex;
  align-items: center; /* centraliza verticalmente os itens */
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* sombra sutil */
  padding: 0 1rem; /* espaçamento interno horizontal */
}

/* Conteúdo interno da navbar */
.top-navbar-content {
  display: flex;
  align-items: center;
  width: 100%;
  padding: 0 1rem;
}

/* Quando a sidebar está aberta, desloca a navbar */
.sidebar-aberta .top-navbar {
  left: 220px; /* mesma largura da sidebar */
}

/* ==========================
   Conteúdo principal
========================== */
.conteudo {
  margin-top: 10px; /* espaço para a navbar */
  margin-left: 0;
  transition: margin-left 0.3s ease; /* animação ao abrir a sidebar */
}

/* Desloca o conteúdo quando a sidebar abre */
.sidebar-aberta .conteudo {
  margin-left: 220px; /* empurra o conteúdo junto */
}

/* ==========================
   Logo e identificação
========================== */
.logo {
  font-size: 1.5rem;
  margin-bottom: 1rem;
  flex-shrink: 0; /* não encolhe */
}

.sidebar img {
  flex-shrink: 0; /* logo não encolhe */
}

/* ==========================
   Navegação
========================== */
.sidebar nav {
  flex: 1; /* ocupa espaço disponível */
  overflow-y: auto; /* permite rolagem dos links */
  overflow-x: hidden;
  margin-bottom: 1rem;
  min-height: 0; /* permite que o flex funcione corretamente */
}

.sidebar nav hr {
  margin: 0.5rem 0;
  border: none;
  border-top: 1px solid rgba(255, 255, 255, 0.2);
}

/* ==========================
   Menu do usuário
========================== */
.user-menu {
  margin-top: auto; /* empurra para baixo da sidebar */
  position: relative;
  cursor: pointer;
  flex-shrink: 0; /* não encolhe */
  padding-top: 0.5rem; /* espaçamento superior */
}

.user-info {
  display: flex;
  align-items: center;
  gap: 0.5rem; /* espaço entre itens */
  padding: 0.5rem;
  border-radius: 8px;
  transition: 0.2s;
}

.user-info:hover {
  background-color: #20512e; /* efeito hover */
}

.avatar {
  width: 32px;
  height: 32px;
  border-radius: 50%; /* formato circular */
}

/* Dropdown do menu do usuário */
.dropdown {
  position: absolute;
  bottom: 3rem;
  left: 0;
  background-color: #269447;
  border: 1px solid #2e7d32;
  border-radius: 8px;
  width: 100%;
  list-style: none;
  padding: 0.5rem 0;
}

.dropdown li a {
  display: block;
  padding: 0.5rem 1rem;
  color: #cbd5e1;
  text-decoration: none;
}

.dropdown li a:hover {
  background-color: #20512e;
  color: white;
}

/* ==========================
   Botão de toggle da sidebar
========================== */
.side-button {
  margin: 0;
  background-color: #269447;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  padding: 0.6rem 0.8rem;
  font-size: 1.2rem;
  transition:
    background-color 0.3s ease,
    left 0.3s ease;
}

/* Posição do botão quando sidebar está aberta */
.sidebar-aberta .side-button {
  left: 220px;
}

.side-button:hover {
  background-color: #20512e; /* efeito hover */
}

/* ==========================
   Botão de alertas fixo à direita
========================== */
.top-alert {
  display: flex;
  align-items: center; /* vertical */
  justify-content: center; /* horizontal */
  position: absolute; /* fixa na tela */
  right: 2rem; /* distância do canto direito */
  top: 50%; /* centraliza verticalmente */
  transform: translateY(-50%); /* ajusta centralização exata */
  background-color: #c9433d;
  color: white;
  border: none;
  border-radius: 26px;
  padding: 6px 12px;
  cursor: pointer;
  font-size: 0.9rem;
  transition: background-color 0.3s ease;
}

.top-alert:hover {
  background-color: #80090a; /* efeito hover */
}

.alert-count {
  font-weight: bold;
  margin-bottom: 12px;
}

/* Desloca o botão quando sidebar aberta */
.sidebar-aberta .top-alert {
  right: 220px;
}

/* ==========================
   Mobile / Responsivo
========================== */
@media (max-width: 600px), (max-height: 600px) {
  .sidebar {
    height: 100dvh;
    overflow-y: auto;
    position: fixed;
    z-index: 3000;
  }

  .logo {
    font-size: 1.2rem;
    margin-bottom: 0.5rem;
  }

  .sidebar img {
    max-width: 80px;
    height: auto;
  }

  .sidebar nav {
    margin-bottom: 0.5rem;
  }

  .top-navbar {
    flex-direction: row;
    height: 50px;
    padding: 0.5rem;
  }

  .top-alert {
    top: 1.2rem; /* ajusta botão no mobile */
    right: 2rem;
  }
}

/* Media query específica para altura pequena */
@media (max-height: 700px) {
  .logo {
    font-size: 1.2rem;
    margin-bottom: 0.5rem;
  }

  .sidebar {
    padding: 0.75rem;
  }

  .sidebar img {
    max-width: 60px;
    height: auto;
  }

  .sidebar nav {
    font-size: 0.9rem;
  }

  .sidebar nav hr {
    margin: 0.3rem 0;
  }

  .user-info {
    padding: 0.3rem;
    font-size: 0.9rem;
  }

  .avatar {
    width: 28px;
    height: 28px;
  }
}

@media (max-height: 500px) {
  .logo {
    font-size: 1rem;
    margin-bottom: 0.3rem;
  }

  .sidebar {
    padding: 0.5rem;
  }

  .sidebar img {
    max-width: 50px;
    height: auto;
  }

  .sidebar nav {
    font-size: 0.85rem;
  }

  .sidebar nav hr {
    margin: 0.2rem 0;
  }

  .user-info {
    padding: 0.25rem;
    font-size: 0.85rem;
  }

  .avatar {
    width: 24px;
    height: 24px;
  }
}
